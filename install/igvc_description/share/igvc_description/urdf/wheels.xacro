<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

<xacro:macro name="wheels">

  <xacro:property name="wheel_radius" value="0.05"/>
  <xacro:property name="wheel_width" value="0.03"/>
  <xacro:property name="wheel_mass" value="1.0"/>

  <xacro:macro name="make_wheel" params="name x y z">

    <link name="${name}_link">
      <visual>
        <origin xyz="0 0 0" rpy="1.5708 0 0"/>
        <geometry>
          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>
        </geometry>
      </visual>

      <collision>
        <origin xyz="0 0 0" rpy="1.5708 0 0"/>
        <geometry>
          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>
        </geometry>
      </collision>

      <inertial>
        <mass value="${wheel_mass}"/>
        <origin xyz="0 0 0"/>
        <inertia
          ixx="0.01"
          iyy="0.01"
          izz="0.01"
          ixy="0.0"
          ixz="0.0"
          iyz="0.0"/>
      </inertial>
    </link>

    <joint name="${name}_joint" type="continuous">
      <parent link="chassis_link"/>
      <child link="${name}_link"/>
      <origin xyz="${x} ${y} ${z}"/>
      <axis xyz="0 0 1"/>
      <limit effort="10.0" velocity="20.0"/>
      <dynamics damping="0.1" friction="0.0"/>
    </joint>

  </xacro:macro>

  <xacro:make_wheel name="wheel_fl" x="0.2"  y="0.18"  z="-0.1"/>
  <xacro:make_wheel name="wheel_fr" x="0.2"  y="-0.18" z="-0.1"/>
  <xacro:make_wheel name="wheel_rl" x="-0.2" y="0.18"  z="-0.1"/>
  <xacro:make_wheel name="wheel_rr" x="-0.2" y="-0.18" z="-0.1"/>

</xacro:macro>

</robot>
